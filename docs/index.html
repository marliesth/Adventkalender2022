<html lang="de">
<head>
    <title>Advent</title>
    <meta charset="utf-8">
</head>
<style>
    body {
        text-align: center;
    }
    img {
        width: 100%;
        max-width: 400px;
        box-shadow: 3px 3px 7px #9e9e9e;
    }

    .clickable img {
        cursor: pointer;
    }
</style>
<body>

<h1>Adventkalender</h1>

<div id="day1">
    <h2>1. Dezember: Daytime Nighttime</h2>
    <img src="Daytime_Nighttime2_front.jpg" alt=""/>
</div>

<div id="day2">
    <h2>Tag 2</h2>
    <img src="day1_front.jpg" alt=""/>
</div>

<div id="day3">
    <h2>Tag 3</h2>
    <img src="day1_front.jpg" alt=""/>
</div>

<div id="day4">
    <h2>Tag 4</h2>
    <img src="day1_front.jpg" alt=""/>
</div>
    
 <div id="day5">
    <h2>Tag 5</h2>
    <img src="day1_front.jpg" alt=""/>
</div>   



<script>

    let date = new Date()
    // for testing:
    date = new Date(2022, 11, 2) // December 2nd
    //date = new Date(2022, 11, 24) // December 24th
    let isDecember = date.getMonth() === 11

    function swapImage(dayElement) {
        let image = dayElement.getElementsByTagName("img")[0]
        if (image.src.indexOf("front") >= 0) {
            image.src = image.src.replace('front', 'back')
            localStorage.setItem(dayElement.id, "1")
        } else {
            image.src = image.src.replace('back', 'front')
            localStorage.removeItem(dayElement.id)
        }
    }

    for (let day = 0; day <= 24; day++) {
        let dayId = "day" + day
        let dayElement = document.getElementById(dayId)
        if (!dayElement) continue;

        if (isDecember && date.getDate() >= day) {
            // swap images
            dayElement.classList.add('clickable')
            dayElement.addEventListener("click", () => swapImage(dayElement))
            if (localStorage.getItem(dayId)) {
                swapImage(dayElement)
            }
        }
    }
</script>
</body>
</html>
