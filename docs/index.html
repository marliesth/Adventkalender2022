<html lang="de">
<head>
    <title>Advent</title>
    <meta charset="utf-8">
</head>
<style>
    body {
        text-align: center;
    }
    img {
        width: 100%;
        max-width: 400px;
        box-shadow: 3px 3px 7px #9e9e9e;
    }

    .clickable img {
        cursor: pointer;
    }
</style>
<body>

<h1>Adventkalender</h1>

<div id="day1">
    <h2>1. Dezember: Teapot Walking</h2>
    <img src="Teapot_Walking2_front.jpg" alt=""/>
</div>

<div id="day2">
    <h2>2. Dezember: Live</h2>
    <img src="LiveMusic1_front.jpg" alt=""/>
</div>

<div id="day3">
    <h2>3. Dezember: Oh du Fröhliche</h2>
    <img src="Lemon_Dress2_front.jpg" alt=""/>
</div>

<div id="day4">
    <h2>4. Dezember: Quality Time</h2>
    <img src="QualityTime1_front.jpg" alt=""/>
</div>
    
 <div id="day5">
    <h2>5. Dezember: Morning Joy</h2>
    <img src="MorningJoy1_front.jpg" alt=""/>
</div>   

    <div id="day6">
    <h2>6. Dezember: Unexpected Flow</h2>
    <img src="UnexpectedFlowActivity1_front.jpg" alt=""/>
</div>  
    
    <div id="day7">
    <h2>7. Dezember: Unwet</h2>
    <img src="Unwet1_front.jpg" alt=""/>
</div>  
    
    <div id="day8">
    <h2>8. Dezember: Leise nieselt der Tee</h2>
    <img src="leiseNieseltDerTee1_front.jpg" alt=""/>
</div>  
    
    <div id="day9">
    <h2>9. Dezember: Hug Mug</h2>
    <img src="HugMug1_front.jpg" alt=""/>
</div>  
    
    <div id="day10">
    <h2>10. Dezember: First Snow</h2>
    <img src="First_Snow2_front.jpg" alt=""/>
</div>  
    
    
   <div id="day11">
    <h2>11. Dezember: Schneeflöckchen Weißlöckchen</h2>
    <img src="Schneeflockchen_Weißlockchen1_front.jpg" alt=""/>
</div>  
    
    <div id="day12">
    <h2>12. Dezember: Schifoan</h2>
    <img src="SchiFoan1_front.jpg" alt=""/>
</div>  
    
    <div id="day13">
    <h2>13. Dezember: Cool Earth</h2>
    <img src="SoCold1_front.jpg" alt=""/>
</div>  
    
    <div id="day14">
    <h2>14. Dezember: Knitting</h2>
    <img src="Knitting_Bird1_front.jpg" alt=""/>
</div>  
    
    <div id="day15">
    <h2>15. Dezember: Surprise</h2>
    <img src="SurpriseSurprise1_front.jpg" alt=""/>
</div>  
    
    <div id="day16">
    <h2>16. Dezember: Vorfreude</h2>
    <img src="PresentForMe1_front.jpg" alt=""/>
</div>  
    
    <div id="day17">
    <h2>17. Dezember: Love at First Bite</h2>
    <img src="LoveAtFirstBite1_front.jpg" alt=""/>
</div>  
    
    <div id="day18">
    <h2>18. Dezember: Nest Fest</h2>
    <img src="Nest_Fest1_front.jpg" alt=""/>
</div>  
    
    <div id="day19">
    <h2>19. Dezember: Recycling</h2>
    <img src="Recycling1_front.jpg" alt=""/>
</div>  
    
    <div id="day20">
    <h2>20. Dezember: Spinning</h2>
    <img src="Spinning1_front.jpg" alt=""/>
</div>  
    
    <div id="day21">
    <h2>21. Dezember: Daytime Nighttime</h2>
    <img src="Daytime_Nighttime2_front.jpg" alt=""/>
</div>  
    
    <div id="day22">
    <h2>22. Dezember: Es ist ein Ros entsprungen</h2>
    <img src="EsIstEinRosEntsprungen1_front.jpg" alt=""/>
</div>  
    
    <div id="day23">
    <h2>23. Dezember: Kommet ihr Hirten</h2>
    <img src="KommetIhrHirten1_front.jpg" alt=""/>
</div>  
    
    <div id="day24">
    <h2>24. Dezember: Oh Tannenbaum</h2>
    <img src="ohTannenbaum2.jpg" alt=""/>
</div>  

     <h2>Eine fröhliche Weihnachtszeit!</h2>

<script>

    let date = new Date()
    // for testing:
    date = new Date(2022, 11, 2) // December 2nd
    //date = new Date(2022, 11, 24) // December 24th
    let isDecember = date.getMonth() === 11

    function swapImage(dayElement) {
        let image = dayElement.getElementsByTagName("img")[0]
        if (image.src.indexOf("front") >= 0) {
            image.src = image.src.replace('front', 'back')
            localStorage.setItem(dayElement.id, "1")
        } else {
            image.src = image.src.replace('back', 'front')
            localStorage.removeItem(dayElement.id)
        }
    }

    for (let day = 0; day <= 24; day++) {
        let dayId = "day" + day
        let dayElement = document.getElementById(dayId)
        if (!dayElement) continue;

        if (isDecember && date.getDate() >= day) {
            // swap images
            dayElement.classList.add('clickable')
            dayElement.addEventListener("click", () => swapImage(dayElement))
            if (localStorage.getItem(dayId)) {
                swapImage(dayElement)
            }
        }
    }
</script>
</body>
</html>
